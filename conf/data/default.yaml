vocabs:
  birdcalls_path: ${oc.env:TRAIN_BIRDCALLS}
  idx2bird_path: ${oc.env:IDX2BIRD}
  bird2idx_path: ${oc.env:BIRD2IDX}

spectrogram:
  _target_: src.common.utils.compute_spectrogram
  n_fft: 1024
  win_length: #None
  hop_length: 512
  n_mels: 128
  mel: True

soundscapes_datamodule:
  _target_: src.pl_data.datamodule.SoundscapesDataModule

  num_workers:
    train: 12
    val: 12
    test: 12

  batch_size:
    train: 32
    val: 32
    test: 2

  shuffle:
    train: True
    val: False
    test: False

  datasets:
    train:
      _target_: src.pl_data.dataset.SoundscapeDataset
      name: TRAIN_SOUNDSCAPES
      path: ${oc.env:TRAIN_SOUNDSCAPES}
      csv_path: ${oc.env:SOUNDSCAPES_TRAIN_CSV}
      online: False
      debug:
      load: True
      spectrograms_path: ${oc.env:TRAIN_SOUNDSCAPES_DEBUG_SPECTROGRAMS}
      targets_path: ${oc.env:TRAIN_SOUNDSCAPES_DEBUG_TARGETS}
      train: True

    val:
      _target_: src.pl_data.dataset.SoundscapeDataset
      name: VAL_SOUNDSCAPES
      path:
      csv_path: ${oc.env:SOUNDSCAPES_VAL_CSV}
      online: False
      debug:
      load: True
      spectrograms_path: ${oc.env:VAL_SOUNDSCAPES_DEBUG_SPECTROGRAMS}
      targets_path: ${oc.env:VAL_SOUNDSCAPES_DEBUG_TARGETS}
      train: False

birdcalls_datamodule:
  _target_: src.pl_data.datamodule.BirdcallsDataModule

  num_workers:
    train: 12
    val: 12
    test: 12

  batch_size:
    train: 2
    val: 2
    test: 2

  shuffle:
    train: True
    val: False
    test: False

  weighting:
    train: False
    val: False
    test: False

  datasets:
    idx2bird_path: ${oc.env:IDX2BIRD}
    bird2idx_path: ${oc.env:BIRD2IDX}

    train:
      _target_: src.pl_data.dataset.BirdcallDataset
      name: TRAIN_BIRDCALLS
      path: ${oc.env:TRAIN_BIRDCALLS}
      csv_path: ${oc.env:BIRDCALLS_CSV}
      standard_len: 1
      online: True
      debug: 800
      load: False
      spectrograms_path: ${oc.env:TRAIN_BIRDCALLS_DEBUG_SPECTROGRAMS}
      targets_path: ${oc.env:TRAIN_BIRDCALLS_DEBUG_TARGETS}
      train: True

    val:
      _target_: src.pl_data.dataset.BirdcallDataset
      name: VAL_BIRDCALLS
      path:
      csv_path: ${oc.env:BIRDCALLS_VAL_CSV}
      standard_len: 1
      online: False
      debug: 200
      load: True
      spectrograms_path: ${oc.env:VAL_BIRDCALLS_DEBUG_SPECTROGRAMS}
      targets_path: ${oc.env:VAL_BIRDCALLS_DEBUG_TARGETS}
      train: False

joint_datamodule:
  _target_: src.pl_data.datamodule.JointDataModule

  num_workers:
    train: 12
    val: 12
    test: 12

  batch_size:
    train: 3
    val: 3
    test: 2

  shuffle:
    train: True
    val: False
    test: False

  datasets:
    train:
      _target_: src.pl_data.dataset.JointDataset
      name: TRAIN_JOINT
      path: ${oc.env:TRAIN_SOUNDSCAPES}
      csv_path: ${oc.env:JOINT_TRAIN_CSV}
      online: False
      debug: 32823 # We treat split as 70-30
      load: False
      spectrograms_path: ${oc.env:TRAIN_JOINT_DEBUG_SPECTROGRAMS}
      targets_path: ${oc.env:TRAIN_JOINT_DEBUG_TARGETS}
      train: True

    val:
      _target_: src.pl_data.dataset.JointDataset
      name: VAL_JOINT
      path:
      csv_path: ${oc.env:JOINT_VAL_CSV}
      online: False
      debug:
      load: False
      spectrograms_path: ${oc.env:VAL_JOINT_DEBUG_SPECTROGRAMS}
      targets_path: ${oc.env:VAL_JOINT_DEBUG_TARGETS}
      train: False